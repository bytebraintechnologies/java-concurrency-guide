<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thread Communication - Java Multithreading</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/core@1.2.0/dist/css/tabler.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body class="antialiased">
    <div class="page">
        <div class="page-wrapper">
            <div class="page-header d-print-none">
                <div class="container-xl">
                    <div class="row g-2 align-items-center">
                        <div class="col">
                            <a href="index.html" class="btn btn-outline-primary">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                                    <path d="M5 12l14 0" />
                                    <path d="M5 12l6 6" />
                                    <path d="M5 12l6 -6" />
                                </svg>
                                Back to Home
                            </a>
                            <h1 class="page-title mt-3">Thread Communication in Java</h1>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="page-body">
                <div class="container-xl">
                    <div class="row">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-body">
                                    <h2>1. Understanding Thread Communication</h2>
                                    
                                    <div class="mb-3">
                                        <h3>Pseudocode: Basic Thread Communication</h3>
                                        <pre><code class="language-text">
// Pseudocode for Producer-Consumer Communication

// Shared Resource
shared_buffer = empty_queue
mutex = create_lock()
not_full_condition = create_condition_variable()
not_empty_condition = create_condition_variable()

// Producer Thread
function producer():
    while true:
        acquire(mutex)
        while buffer_is_full:
            wait(not_full_condition)
        
        create_item()
        add_item_to_buffer()
        
        signal(not_empty_condition)
        release(mutex)

// Consumer Thread
function consumer():
    while true:
        acquire(mutex)
        while buffer_is_empty:
            wait(not_empty_condition)
        
        remove_item_from_buffer()
        process_item()
        
        signal(not_full_condition)
        release(mutex)
                                        </code></pre>
                                    </div>
                                    
                                    <div class="alert alert-important" role="alert">
                                        <h4>Key Thread Communication Principles</h4>
                                        <ul>
                                            <li>Coordinate work between multiple threads</li>
                                            <li>Share and transfer data safely</li>
                                            <li>Prevent resource contention</li>
                                            <li>Manage thread lifecycle and interactions</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="card mt-4">
                                <div class="card-body">
                                    <h2>2. Real-World Scenario: Print Job Management System</h2>
                                    
                                    <div class="row">
                                        <div class="col-md-6">
                                            <h3>Problem Scenario</h3>
                                            <ul>
                                                <li>Multiple users sending print jobs</li>
                                                <li>Limited printer resources</li>
                                                <li>Need to manage print queue efficiently</li>
                                            </ul>
                                        </div>
                                        <div class="col-md-6">
                                            <h3>Communication Solution</h3>
                                            <ul>
                                                <li>Use BlockingQueue for thread-safe communication</li>
                                                <li>Coordinate print job submission and processing</li>
                                                <li>Prevent resource conflicts</li>
                                            </ul>
                                        </div>
                                    </div>
                                    
                                    <div class="code-section mt-3">
                                        <pre><code class="language-java">
import java.util.concurrent.BlockingQueue;
import java.util.concurrent.LinkedBlockingQueue;

// Represents a print job
class PrintJob {
    private String documentName;
    private int pages;
    
    public PrintJob(String documentName, int pages) {
        this.documentName = documentName;
        this.pages = pages;
    }
    
    @Override
    public String toString() {
        return "Print Job: " + documentName + " (" + pages + " pages)";
    }
}

// Print Job Management System
public class PrinterCommunicationSystem {
    // Shared blocking queue to manage print jobs
    private BlockingQueue<PrintJob> printQueue;
    private volatile boolean isRunning;
    
    public PrinterCommunicationSystem(int queueCapacity) {
        this.printQueue = new LinkedBlockingQueue<>(queueCapacity);
        this.isRunning = true;
    }
    
    // Print Job Submitter Thread
    public void submitPrintJob(PrintJob job) throws InterruptedException {
        // Blocks if queue is full, ensuring smooth communication
        printQueue.put(job);
        System.out.println("Job Submitted: " + job);
    }
    
    // Printer Worker Thread
    public void startPrinterWorker() {
        new Thread(() -> {
            while (isRunning) {
                try {
                    // Blocks and waits if no jobs are available
                    PrintJob job = printQueue.take();
                    processPrintJob(job);
                } catch (InterruptedException e) {
                    Thread.currentThread().interrupt();
                }
            }
        }).start();
    }
    
    private void processPrintJob(PrintJob job) {
        // Simulate print processing
        System.out.println("Processing: " + job);
        try {
            // Simulate printing time based on pages
            Thread.sleep(job.toString().length() * 100);
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
        System.out.println("Completed: " + job);
    }
    
    public void shutdown() {
        isRunning = false;
    }
    
    // Demonstration of the system
    public static void main(String[] args) throws InterruptedException {
        PrinterCommunicationSystem printerSystem = 
            new PrinterCommunicationSystem(5);
        
        // Start printer worker
        printerSystem.startPrinterWorker();
        
        // Simulate multiple users submitting print jobs
        new Thread(() -> {
            try {
                printerSystem.submitPrintJob(
                    new PrintJob("Report.docx", 10)
                );
                printerSystem.submitPrintJob(
                    new PrintJob("Presentation.pptx", 20)
                );
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt();
            }
        }).start();
        
        new Thread(() -> {
            try {
                printerSystem.submitPrintJob(
                    new PrintJob("Invoice.pdf", 5)
                );
                printerSystem.submitPrintJob(
                    new PrintJob("Contract.pdf", 15)
                );
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt();
            }
        }).start();
    }
}
                                        </code></pre>
                                    </div>
                                    
                                    <div class="mt-3">
                                        <h3>Industry Impact</h3>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <h4>Where Used</h4>
                                                <ul>
                                                    <li>Print Management Systems</li>
                                                    <li>Cloud Printing Services</li>
                                                    <li>Enterprise Document Workflows</li>
                                                </ul>
                                            </div>
                                            <div class="col-md-6">
                                                <h4>Benefits</h4>
                                                <ul>
                                                    <li>Efficient Resource Utilization</li>
                                                    <li>Smooth Job Scheduling</li>
                                                    <li>Prevents Resource Conflicts</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="card mt-4">
                                <div class="card-body">
                                    <h2>3. Advanced Thread Communication: Condition Variables</h2>
                                    
                                    <div class="code-section">
                                        <pre><code class="language-java">
import java.util.concurrent.locks.Condition;
import java.util.concurrent.locks.Lock;
import java.util.concurrent.locks.ReentrantLock;

public class AdvancedThreadCommunication {
    private final Lock lock = new ReentrantLock();
    private final Condition dataAvailable = lock.newCondition();
    private boolean dataReady = false;
    private String sharedData;
    
    public void produce(String data) throws InterruptedException {
        lock.lock();
        try {
            while (dataReady) {
                // Wait if data is not consumed
                dataAvailable.await();
            }
            
            sharedData = data;
            dataReady = true;
            System.out.println("Produced: " + data);
            
            // Signal consumer that data is ready
            dataAvailable.signal();
        } finally {
            lock.unlock();
        }
    }
    
    public String consume() throws InterruptedException {
        lock.lock();
        try {
            while (!dataReady) {
                // Wait if no data is available
                dataAvailable.await();
            }
            
            dataReady = false;
            System.out.println("Consumed: " + sharedData);
            
            // Signal producer that data is consumed
            dataAvailable.signal();
            
            return sharedData;
        } finally {
            lock.unlock();
        }
    }
}
                                        </code></pre>
                                    </div>
                                    
                                    <div class="alert alert-info">
                                        <h4>Advanced Communication Techniques</h4>
                                        <ul>
                                            <li>More precise thread synchronization</li>
                                            <li>Fine-grained control over thread interactions</li>
                                            <li>Supports complex communication patterns</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@tabler/core@1.2.0/dist/js/tabler.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js"></script>
</body>
</html>
